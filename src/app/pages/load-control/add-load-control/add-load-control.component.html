<p-toast></p-toast>
<div class="app-title">
  <h1>
    <i class="app-title-icon fa fa-cogs"></i>
    <span>Add Load Control</span>
  </h1>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="tile">
      <form [formGroup]="addLoadControlForm" (ngSubmit)="onSubmit()">
        <div class="text-right">
          <div class="row">
            <div class="col-md-12">
              <button class="btn btn-sm btn-primary">
                <i class="fa fa-fw fa-lg fa-check-circle"></i>Save</button>&nbsp;&nbsp;&nbsp;
              <a class="btn btn-sm btn-secondary" routerLinkActive="active" routerLink="/loadcontrol">
                <i class="fa fa-fw fa-lg fa-times-circle"></i>Cancel</a>
            </div>
          </div>
        </div>
        <div class="separator"></div>
        <div class="tile-body">
          <p-accordion>
            <p-accordionTab header="General" [selected]="true">
              <div class="row mt-2">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">SCHEMA NAME</label>
                    <input class="form-control" type="text" formControlName="SCHEMA_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.SCHEMA_NAME.errors }" />
                    <div *ngIf="submitted && f.SCHEMA_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.SCHEMA_NAME.errors.required">SCHEMA NAME is
                        required</div>
                      <div *ngIf="f.SCHEMA_NAME.errors?.pattern">SCHEMA NAME is
                        not valid. Only aplhanumeric and underscore are allowed.
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">TABLE NAME</label>
                    <input class="form-control" type="text" formControlName="TABLE_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.TABLE_NAME.errors }" />
                    <div *ngIf="submitted && f.TABLE_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.TABLE_NAME.errors.required">TABLE NAME is
                        required</div>
                      <div *ngIf="f.TABLE_NAME.errors?.pattern">TABLE NAME is
                        not valid. Only aplhanumeric and underscore are allowed.
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">ENV NAME</label>
                    <select formControlName="ENV_NAME" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.ENV_NAME.errors }">
                      <option value="PRD">PRD</option>
                      <option value="DEV">DEV</option>
                      <option value="QA">QA</option>
                    </select>
                    <div *ngIf="submitted && f.ENV_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.ENV_NAME.errors.required">ENV NAME is
                        required</div>
                    </div>
                  </div>
                </div>
                <div class="separator"></div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">TARGET SCHEMA NAME</label>
                    <input class="form-control" type="text" formControlName="TARGET_SCHEMA_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.TARGET_SCHEMA_NAME.errors }">
                    <div *ngIf="submitted && f.TARGET_SCHEMA_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.TARGET_SCHEMA_NAME.errors.required">TARGET
                        SCHEMA NAME is required</div>
                      <div *ngIf="f.TARGET_SCHEMA_NAME.errors?.pattern">TARGET
                        SCHEMA NAME is not valid. Only aplhanumeric and
                        underscore are allowed.
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">TARGET TABLE NAME</label>
                    <input class="form-control" type="text" formControlName="TARGET_TABLE_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.TARGET_TABLE_NAME.errors }">
                    <div *ngIf="submitted && f.TARGET_TABLE_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.TARGET_TABLE_NAME.errors.required">TARGET
                        TABLE NAME is required</div>
                      <div *ngIf="f.TARGET_TABLE_NAME.errors?.pattern">TARGET
                        TABLE NAME is
                        not valid. Only aplhanumeric and underscore are allowed.
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group row">
                    <div class="col-3">
                      <label class="control-label">EMAIL ALERTS</label>
                      <div class="animated-radio-button">
                        <label>
                          <input type="radio" value="Y" formControlName="EMAIL_ALERTS"><span class="label-text">Yes
                          </span>
                        </label>
                        <label class="ml-4">
                          <input type="radio" value="N" formControlName="EMAIL_ALERTS"><span class="label-text">No
                          </span>
                        </label>
                      </div>
                      <div *ngIf="submitted && f.EMAIL_ALERTS.errors" class="invalid-feedback">
                        <div *ngIf="f.EMAIL_ALERTS.errors.required">EMAIL ALERT is
                          required</div>
                      </div>
                    </div>
                    <div class="col-8">
                      <label class="control-label">Choose Email Group</label>
                      <select class="form-control" [ngClass]="{ 'is-invalid': submitted && f.EMAIL_GROUP.errors }"
                        formControlName="EMAIL_GROUP">
                        <option *ngFor="let item of emails" value="{{item.EMAIL_GROUP}}">{{item.EMAIL_GROUP}}</option>
                      </select>
                    </div>
                    <div *ngIf="submitted && f.EMAIL_GROUP.errors" class="invalid-feedback">
                      <div *ngIf="f.EMAIL_GROUP.errors.required">EMAIL GROUP is
                        required</div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">LOAD STRATEGY</label>
                    <select formControlName="LOAD_STRATEGY" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.LOAD_STRATEGY.errors }"
                      (change)="loadStrategyUpdated()">
                      <option value="INSERT">INSERT</option>
                      <option value="UPDATE">UPDATE</option>
                      <option value="REFRESH">REFRESH</option>
                      <option value="SAMPLED">SAMPLED</option>
                      <option value="FLAT">FLAT</option>
                    </select>
                    <div *ngIf="submitted && f.LOAD_STRATEGY.errors" class="invalid-feedback">
                      <div *ngIf="f.LOAD_STRATEGY.errors.required">LOAD STRATEGY
                        is required</div>
                    </div>
                  </div>
                </div>
                <div class="separator"></div>
                <div class="col-md-6" [ngClass]="{'disabled': addLoadControlForm.value.LOAD_STRATEGY !== 'FLAT'}">
                  <div class="form-group">
                    <label class="control-label">FACT ENV NAME</label>
                    <select (change)="factENVSelected()" formControlName="FACT_ENV_NAME" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.FACT_ENV_NAME.errors }">
                      <option value="PRD">PRD</option>
                      <option value="DEV">DEV</option>
                      <option value="QA">QA</option>
                    </select>
                    <div *ngIf="submitted && f.FACT_ENV_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.FACT_ENV_NAME.errors.required">FACT ENV NAME is
                        required</div>
                    </div>
                  </div>
                  <div class="form-group"
                    [ngClass]="{'disabled': !addLoadControlForm.value.FACT_ENV_NAME || !addLoadControlForm.value.FACT_SCHEMA_NAME }">
                    <label class="control-label">FACT TABLE NAME </label>
                    <select formControlName="FACT_TABLE_NAME" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.FACT_TABLE_NAME.errors }">
                      <option *ngFor="let item of factTablesNames" value="{{item.TABLE_NAME}}">{{item.TABLE_NAME}}
                      </option>
                    </select>
                    <!-- <input class="form-control" type="text" formControlName="FACT_TABLE_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.FACT_TABLE_NAME.errors }" /> -->
                    <div *ngIf="submitted && f.FACT_TABLE_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.FACT_TABLE_NAME.errors.required">FACT TABLE NAME is
                        required</div>
                      <div *ngIf="f.FACT_TABLE_NAME.errors?.pattern">FACT TABLE NAME is
                        not valid. Only aplhanumeric and underscore are allowed.
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6" [ngClass]="{'disabled': addLoadControlForm.value.LOAD_STRATEGY !== 'FLAT'}">
                  <div class="form-group" [ngClass]="{'disabled': !addLoadControlForm.value.FACT_ENV_NAME}">
                    <label class="control-label">FACT SCHEMA NAME</label>
                    <select (change)="factSchemaSelected()" formControlName="FACT_SCHEMA_NAME" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.FACT_SCHEMA_NAME.errors }">
                      <option *ngFor="let item of factSchemaNames" value="{{item.SCHEMA_NAME}}">{{item.SCHEMA_NAME}}
                      </option>
                    </select>
                    <!-- <input class="form-control" type="text" formControlName="FACT_SCHEMA_NAME"
                      oninput="this.value = this.value.toUpperCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.FACT_SCHEMA_NAME.errors }" /> -->
                    <div *ngIf="submitted && f.FACT_SCHEMA_NAME.errors" class="invalid-feedback">
                      <div *ngIf="f.FACT_SCHEMA_NAME.errors.required">FACT SCHEMA NAME is
                        required</div>
                      <div *ngIf="f.FACT_SCHEMA_NAME.errors?.pattern">FACT SCHEMA NAME is
                        not valid. Only aplhanumeric and underscore are allowed.
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </p-accordionTab>
            <p-accordionTab header="Table Source" [selected]="true">
              <div class="row mt-2" [ngClass]="{'disabled': addLoadControlForm.value.LOAD_STRATEGY === 'FLAT' }">
                <div class="col-md-6" [ngClass]="{'disabled': addLoadControlForm.value.LOAD_STRATEGY}">
                  <div class="form-group">
                    <label class="control-label">TABLE SOURCE</label>
                    <select formControlName="TABLE_SOURCE" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.TABLE_SOURCE.errors }">
                      <option value="RAW_FACTORY">RAW_FACTORY</option>
                      <option value="ORACLE">ORACLE</option>
                    </select>
                    <div *ngIf="submitted && f.TABLE_SOURCE.errors" class="invalid-feedback">
                      <div *ngIf="f.TABLE_SOURCE.errors.required">TABLE SOURCE
                        is required</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6"></div>
                <div class="col-md-6">
                  <p-fieldset legend="Data Warehouse Details">
                    <div class="form-group">
                      <label class="control-label">DB ID</label>
                      <select class="form-control" type="text" formControlName="DB_ID"
                        [ngClass]="{ 'is-invalid': submitted && f.DB_ID.errors }">
                        <option *ngFor="let endpoint of dbEndpoints" [value]="endpoint.DB_ID">{{endpoint.DB_ID}}
                        </option>
                      </select>
                      <div *ngIf="submitted && f.DB_ID.errors" class="invalid-feedback">
                        <div *ngIf="f.DB_ID.errors.required">DB ID is required
                          for
                          TABLE SOURCE = ORACLE
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">DB SCHEMA</label>
                      <input class="form-control" type="text" formControlName="DB_SCHEMA"
                        oninput="this.value = this.value.toUpperCase()"
                        [ngClass]="{ 'is-invalid': submitted && f.DB_SCHEMA.errors }">
                      <div *ngIf="submitted && f.DB_SCHEMA.errors" class="invalid-feedback">
                        <div *ngIf="f.DB_SCHEMA.errors.required">DB SCHEMA is
                          required for TABLE SOURCE = ORACLE
                        </div>
                        <div *ngIf="f.DB_SCHEMA.errors?.pattern">DB
                          SCHEMA is not valid. Only aplhanumeric and
                          underscore are allowed.
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">DB TABLE</label>
                      <input class="form-control" type="text" formControlName="DB_TABLE"
                        oninput="this.value = this.value.toUpperCase()"
                        [ngClass]="{ 'is-invalid': submitted && f.DB_TABLE.errors }">
                      <div *ngIf="submitted && f.DB_TABLE.errors" class="invalid-feedback">
                        <div *ngIf="f.DB_TABLE.errors.required">DB TABLE is
                          required for TABLE SOURCE = ORACLE
                        </div>
                        <div *ngIf="f.DB_TABLE.errors?.pattern">DB
                          TABLE is not valid. Only aplhanumeric and
                          underscore are allowed.
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">DB TABLE PK COLUMNS</label>
                      <input class="form-control" type="text" formControlName="DB_TABLE_PK_COLUMNS"
                        oninput="this.value = this.value.toUpperCase()"
                        [ngClass]="{ 'is-invalid': submitted && f.DB_TABLE_PK_COLUMNS.errors }">
                      <div *ngIf="submitted && f.DB_TABLE_PK_COLUMNS.errors" class="invalid-feedback">
                        <div *ngIf="f.DB_TABLE_PK_COLUMNS.errors.required">DB
                          TABLE PK COLUMNS is required for TABLE
                          SOURCE = ORACLE
                        </div>
                        <div *ngIf="f.DB_TABLE_PK_COLUMNS.errors?.pattern">DB
                          TABLE PK COLUMN is not valid. Only aplhanumeric and
                          underscore are allowed.
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">DB TABLE UPDATE DATE
                        COLUMN</label>
                      <input class="form-control" type="text" formControlName="DB_TABLE_UPDATE_DATE_COLUMN"
                        oninput="this.value = this.value.toUpperCase()"
                        [ngClass]="{ 'is-invalid': submitted && f.DB_TABLE_UPDATE_DATE_COLUMN.errors }">
                      <div *ngIf="submitted && f.DB_TABLE_UPDATE_DATE_COLUMN.errors" class="invalid-feedback">
                        <div *ngIf="f.DB_TABLE_UPDATE_DATE_COLUMN.errors.required">
                          DB
                          TABLE UPDATE DATE COLUMN is required
                          for TABLE SOURCE = ORACLE
                        </div>
                        <div *ngIf="f.DB_TABLE_UPDATE_DATE_COLUMN.errors?.pattern">
                          DB TABLE UPDATE DATE
                          COLUMN is not valid. Only aplhanumeric and
                          underscore are allowed.
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">CHECK INDEX EXIST</label>
                      <div class="animated-radio-button">
                        <label>
                          <input type="radio" value="1" formControlName="CHECK_INDEX_EXIST"><span
                            class="label-text">True
                          </span>
                        </label>
                        <label class="ml-4">
                          <input type="radio" value="0" formControlName="CHECK_INDEX_EXIST"><span
                            class="label-text">False
                          </span>
                        </label>
                      </div>
                      <div *ngIf="submitted && f.CHECK_INDEX_EXIST.errors" class="invalid-feedback">
                        <div *ngIf="f.CHECK_INDEX_EXIST.errors.required">CHECK
                          INDEX EXIST is required for
                          TABLE SOURCE = ORACLE
                        </div>
                      </div>
                    </div>
                  </p-fieldset>
                </div>
                <div class="col-md-6">
                  <p-fieldset legend="Raw Factory Details">
                    <div class="form-group">
                      <label class="control-label">RAW FACTORY PATH
                      </label>
                      <div class="float-right autogenerate-btn" (click)="autoGenerateS3Url('RAW_FACTORY_PATH')">Auto
                        Generate</div>
                      <input class="form-control" type="text" formControlName="RAW_FACTORY_PATH"
                        oninput="this.value = this.value.toLowerCase()"
                        [ngClass]="{ 'is-invalid': submitted && f.RAW_FACTORY_PATH.errors }">
                      <div *ngIf="submitted && f.RAW_FACTORY_PATH.errors" class="invalid-feedback">
                        <div *ngIf="f.RAW_FACTORY_PATH.errors.required">RAW
                          FACTORY PATH is required for TABLE SOURCE =
                          RAW_FACTORY
                        </div>
                        <div *ngIf="f.RAW_FACTORY_PATH.errors?.pattern">S3 URL
                          is
                          not valid
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">RAW FACTORY RETENTION
                        STRATEGY</label>
                      <select formControlName="RAW_FACTORY_RETENTION_STRATEGY" class="form-control">
                        <option value="NONE">NONE</option>
                        <option value="GLACIER">GLACIER</option>
                        <option value="DELETE">DELETE</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="control-label">RAW FACTORY
                        RETENTION_DAYS</label>
                      <input class="form-control" type="number" formControlName="RAW_FACTORY_RETENTION_DAYS"
                        [ngClass]="{ 'is-invalid': submitted && f.RAW_FACTORY_RETENTION_DAYS.errors }">
                      <div *ngIf="submitted && f.RAW_FACTORY_RETENTION_DAYS.errors" class="invalid-feedback">
                        <div *ngIf="f.RAW_FACTORY_RETENTION_DAYS.errors.min">RAW
                          FACTORY RETENTION DAYS should be greater
                          than 0
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="control-label">RAW FACTORY MAX LANDING
                        DATE</label>
                      <br />
                      <p-calendar inputStyleClass="form-control" showTime="true" showSeconds="true" hourFormat="24"
                        formControlName="RAW_FACTORY_MAX_LANDING_DATE"
                        [ngClass]="{ 'is-invalid': submitted && f.RAW_FACTORY_MAX_LANDING_DATE.errors }">
                      </p-calendar>
                      <div *ngIf="submitted && f.RAW_FACTORY_MAX_LANDING_DATE.errors" class="invalid-feedback">
                        <div *ngIf="f.RAW_FACTORY_MAX_LANDING_DATE.errors.required">
                          RAW FACTORY MAX LANDING DATE is required for TABLE
                          SOURCE =
                          RAW_FACTORY</div>
                      </div>
                    </div>
                  </p-fieldset>
                </div>
              </div>
            </p-accordionTab>
            <p-accordionTab header="ETL Details" [selected]="true">
              <div class="row mt-2">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">ETL STATUS</label>
                    <select (change)="etlStatusChanged()" formControlName="ETL_STATUS" class="form-control">
                      <option value="TODO">TODO</option>
                      <option value="HOLD">HOLD</option>
                      <option value="EDW_RETIRED">EDW RETIRED</option>
                      <option value="NO_FACTORY_DATA">NO FACTORY DATA</option>
                      <option value="NEW_TABLE">NEW TABLE</option>
                    </select>
                  </div>
                  <div class="form-group" [ngClass]="{'disabled': addLoadControlForm.value.ETL_STATUS !== 'HOLD'}">
                    <label class="control-label">ETL STATUS REASON</label>
                    <input class="form-control" type="text" formControlName="ETL_STATUS_REASON"
                      [required]="addLoadControlForm.value.ETL_STATUS === 'HOLD'">
                    <div *ngIf="submitted && f.ETL_STATUS_REASON.errors" class="invalid-feedback"
                      [ngClass]="{'etl_status_reason': submitted}">
                      <div *ngIf="f.ETL_STATUS_REASON.errors?.required">ETL STATUS REASON is required
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">ETL EXECUTION STATUS</label>
                    <input formControlName="ETL_EXECUTION_STATUS" class="form-control" readonly />
                    <!-- <option selected value="TODO">TODO</option> -->
                    <!-- <option value="RUNNING">RUNNING</option> -->
                    <!-- <option value="COMPLETE">COMPLETE</option> -->
                    <!-- </select> -->
                  </div>
                </div>
              </div>
            </p-accordionTab>
            <p-accordionTab header="T1 Details" [selected]="true">
              <div class="row mt-2"
                [ngClass]="{'disabled': addLoadControlForm.value.LOAD_STRATEGY === 'FLAT' || addLoadControlForm.value.LOAD_STRATEGY === 'SAMPLED' }">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">T1 STATUS</label>
                    <select formControlName="T1_STATUS" class="form-control">
                      <option value="TODO">TODO</option>
                      <option value="HOLD">HOLD</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="control-label">T1 PATH</label>
                    <div class="float-right autogenerate-btn" (click)="autoGenerateS3Url('T1_PATH')">Auto Generate</div>
                    <input class="form-control" type="text" formControlName="T1_PATH"
                      oninput="this.value = this.value.toLowerCase()"
                      [ngClass]="{ 'is-invalid': submitted && f.T1_PATH.errors }">
                    <div *ngIf="submitted && f.T1_PATH.errors" class="invalid-feedback">
                      <div *ngIf="f.T1_PATH.errors?.pattern">S3 URL is not valid
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">T1 RETENTION STRATEGY</label>
                    <select formControlName="T1_RETENTION_STRATEGY" class="form-control">
                      <option value="NONE">NONE</option>
                      <option value="GLACIER">GLACIER</option>
                      <option value="DELETE">DELETE</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="control-label">T1 CLUSTER ID</label>
                    <select class="form-control" type="text" formControlName="T1_CLUSTER_ID"
                      [ngClass]="{ 'is-invalid': submitted && f.T1_CLUSTER_ID.errors }">
                      <option *ngFor="let cluster of clusters" [value]="cluster.CLUSTER_ID">{{cluster.CLUSTER_ID}}
                      </option>
                    </select>
                    <div *ngIf="submitted && f.T1_CLUSTER_ID.errors" class="invalid-feedback">
                      <div *ngIf="f.T1_CLUSTER_ID.errors.required">
                        T1 CLUSTER ID is required</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">T1 EXECUTION STATUS</label>
                    <input formControlName="T1_EXECUTION_STATUS" class="form-control" readonly />
                    <!-- <option value="TODO">TODO</option> -->
                    <!-- <option value="RUNNING">RUNNING</option>
                      <option value="FAILED">FAILED</option>
                      <option value="COMPLETE">COMPLETE</option>
                      <option value="NO_TS_INDEX">NO TS INDEX</option>
                      <option value="FILE_HEADER_UPDATING">FILE HEADER UPDATING
                      </option>
                      <option value="T2_METADATA_UPDATING">T2 METADATA UPDATING
                      </option>
                      <option value="EHC_METADATA_MISMATCH">EHC METADATA
                        MISMATCH</option> -->
                    <!-- </select> -->
                  </div>
                  <div class="form-group">
                    <label class="control-label">T1 BATCH IN DAYS</label>
                    <select formControlName="T1_BATCH_IN_DAYS" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.T1_BATCH_IN_DAYS.errors }">
                      <option value="0.04">0.04</option>
                      <option value="0.08">0.08</option>
                      <option value="0.125">0.125</option>
                      <option value="0.25">0.25</option>
                      <option value="0.5">0.5</option>
                      <option value="0.75">0.75</option>
                      <option value="1">1</option>
                    </select>
                    <div *ngIf="submitted && f.T1_BATCH_IN_DAYS.errors" class="invalid-feedback">
                      <div *ngIf="f.T1_BATCH_IN_DAYS.errors.required">T1 BATCH
                        IN DAYS is required</div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">T1 RETENTION DAYS</label>
                    <input min="1" max="10000" class="form-control" type="number" formControlName="T1_RETENTION_DAYS"
                      [ngClass]="{ 'is-invalid': submitted && f.T1_RETENTION_DAYS.errors }">
                    <div *ngIf="submitted && f.T1_RETENTION_DAYS.errors" class="invalid-feedback">
                      <div *ngIf="f.T1_RETENTION_DAYS.errors.min || f.T1_RETENTION_DAYS.errors.max">T1 RETENTION
                        DAYS should be greater than 0 and less than equal to 10000 </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">
                      T1 MAX LOAD END DATE
                      <i pTooltip="Next delta run will be greater than (<) T1 MAX LOAD END DATE" tooltipPosition="top"
                        class="fa fa-info-circle ml-1" aria-hidden="true"></i>
                    </label>
                    <br />
                    <p-calendar inputStyleClass="form-control" showTime="true" showSeconds="true" hourFormat="24"
                      formControlName="T1_MAX_LOAD_END_DATE"
                      [ngClass]="{ 'is-invalid': submitted && f.T1_MAX_LOAD_END_DATE.errors }">
                    </p-calendar>
                    <div *ngIf="submitted && f.T1_MAX_LOAD_END_DATE.errors" class="invalid-feedback">
                      <div *ngIf="f.T1_MAX_LOAD_END_DATE.errors.required">T1 MAX
                        LOAD END DATE is required</div>
                    </div>
                  </div>


                </div>
              </div>
            </p-accordionTab>
            <p-accordionTab header="T2 Details" [selected]="true">
              <div class="row mt-2">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">T2 STATUS</label>
                    <select formControlName="T2_STATUS" class="form-control">
                      <option value="TODO">TODO</option>
                      <option value="HOLD">HOLD</option>
                    </select>
                  </div>
                  <!-- <div class="form-group">
                    <label class="control-label">T2 T3 RETENTION
                      STRATEGY</label>
                    <select formControlName="T2_T3_RETENTION_STRATEGY" class="form-control">
                      <option value="NONE">NONE</option>
                      <option value="GLACIER">GLACIER</option>
                      <option value="DELETE">DELETE</option>
                    </select>
                  </div> -->
                  <div class="form-group">
                    <label class="control-label">T2 INSERT BATCH FILE SIZE GB</label>
                    <input min="1" max="10000" class="form-control" type="number"
                      formControlName="T2_INSERT_BATCH_FILE_SIZE_GB"
                      [ngClass]="{ 'is-invalid': submitted && f.T2_INSERT_BATCH_FILE_SIZE_GB.errors }">
                    <div *ngIf="submitted && f.T2_INSERT_BATCH_FILE_SIZE_GB.errors" class="invalid-feedback">
                      <div
                        *ngIf="f.T2_INSERT_BATCH_FILE_SIZE_GB.errors.min || f.T2_INSERT_BATCH_FILE_SIZE_GB.errors.max">
                        T2 INSERT BATCH FILE SIZE GB should be greater than 0 and less than equal to 10000 </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="control-label">T2_CLUSTER_ID</label>
                    <select class="form-control" type="text" formControlName="T2_CLUSTER_ID"
                      [ngClass]="{ 'is-invalid': submitted && f.T2_CLUSTER_ID.errors }">
                      <option *ngFor="let cluster of clusters" [value]="cluster.CLUSTER_ID">{{cluster.CLUSTER_ID}}
                      </option>
                    </select>
                    <div *ngIf="submitted && f.T2_CLUSTER_ID.errors" class="invalid-feedback">
                      <div *ngIf="f.T2_CLUSTER_ID.errors.required">
                        T2 CLUSTER ID is required</div>
                    </div>
                  </div>


                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">T2 EXECUTION STATUS</label>
                    <input formControlName="T2_EXECUTION_STATUS" class="form-control" readonly />
                    <!-- <option value="TODO">TODO</option> -->
                    <!-- <option value="RUNNING">RUNNING</option>
                      <option value="FAILED">FAILED</option>
                      <option value="COMPLETE">COMPLETE</option>
                      <option value="NO_DATA">NO_DATA</option>
                      <option value="FILE_HEADER_UPDATING">FILE HEADER UPDATING
                      </option>
                      <option value="T2_METADATA_UPDATING">T2 METADATA UPDATING
                      </option>
                      <option value="EHC_METADATA_MISMATCH">EHC METADATA
                        MISMATCH</option> -->
                    <!-- </select> -->
                  </div>
                  <div class="form-group">
                    <label class="control-label">T2 INSERT DIR BATCH SIZE</label>
                    <input min="1" max="10000" class="form-control" type="number"
                      formControlName="T2_INSERT_DIR_BATCH_SIZE"
                      [ngClass]="{ 'is-invalid': submitted && f.T2_INSERT_DIR_BATCH_SIZE.errors }">
                    <div *ngIf="submitted && f.T2_INSERT_DIR_BATCH_SIZE.errors" class="invalid-feedback">
                      <div *ngIf="f.T2_INSERT_DIR_BATCH_SIZE.errors.required">T2
                        INSERT DIR BATCH SIZE is required</div>
                    </div>
                    <div *ngIf="submitted && f.T2_INSERT_DIR_BATCH_SIZE.errors" class="invalid-feedback">
                      <div *ngIf="f.T2_INSERT_DIR_BATCH_SIZE.errors.min || f.T2_INSERT_DIR_BATCH_SIZE.errors.max">T2
                        INSERT DIR BATCH SIZE should be greater than 0 and less than equal to 10000 </div>
                    </div>
                  </div>
                  <!-- <div class="form-group">
                    <label class="control-label">T2 T3 RETENTION DAYS</label>
                    <input class="form-control" type="number" formControlName="T2_T3_RETENTION_DAYS"
                      [ngClass]="{ 'is-invalid': submitted && f.T2_T3_RETENTION_DAYS.errors }">
                    <div *ngIf="submitted && f.T2_T3_RETENTION_DAYS.errors" class="invalid-feedback">
                      <div *ngIf="f.T2_T3_RETENTION_DAYS.errors.min">T2_T3
                        RETENTION DAYS should be greater than 0
                      </div>
                    </div>
                  </div> -->

                  <!-- <div class="form-group">
                    <label class="control-label">T2 PARTITION JOB TYPE</label>
                    <select formControlName="T2_PARTITION_JOB_TYPE"
                      class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f.T2_PARTITION_JOB_TYPE.errors }">
                      <option value="SINGLE">SINGLE</option>
                      <option value="MULTIPLE">MULTIPLE</option>
                    </select>
                    <div *ngIf="submitted && f.T2_PARTITION_JOB_TYPE.errors"
                      class="invalid-feedback">
                      <div *ngIf="f.T2_PARTITION_JOB_TYPE.errors.required">T2
                        PARTITION JOB TYPE is required</div>
                    </div>
                  </div> -->
                  <div class="form-group">
                    <label class="control-label">
                      T2 MAX LOAD END DATE
                      <i pTooltip="Next delta run will be greater than (<) T2 MAX LOAD END DATE" tooltipPosition="top"
                        class="fa fa-info-circle ml-1" aria-hidden="true"></i>
                    </label>
                    <br />
                    <p-calendar inputStyleClass="form-control" showTime="true" showSeconds="true" hourFormat="24"
                      formControlName="T2_MAX_LOAD_END_DATE" [ngClass]="{'ng-touched': submitted}"></p-calendar>
                    <div *ngIf="submitted && f.T2_MAX_LOAD_END_DATE.errors" class="invalid-feedback">
                      <div *ngIf="f.T2_MAX_LOAD_END_DATE.errors">T2 MAX LOAD END DATE is required
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </p-accordionTab>
            <p-accordionTab header="Analyze Details" [selected]="true">
              <div class="row mt-2">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label">ANALYZE STATUS</label>
                    <select formControlName="ANALYZE_STATUS" class="form-control">
                      <option value="TODO">TODO</option>
                      <option value="HOLD">HOLD</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="control-label">ANALYZE EXECUTION DAYS</label>
                    <input min="1" max="30" class="form-control" type="number" formControlName="ANALYZE_EXECUTION_DAYS"
                      [ngClass]="{ 'is-invalid': submitted && f.ANALYZE_EXECUTION_DAYS.errors }">
                    <div *ngIf="submitted && f.ANALYZE_EXECUTION_DAYS.errors" class="invalid-feedback">
                      <div *ngIf="f.ANALYZE_EXECUTION_DAYS.errors.required">
                        ANALYZE EXECUTION DAYS are required</div>
                    </div>
                    <div *ngIf="submitted && f.ANALYZE_EXECUTION_DAYS.errors" class="invalid-feedback">
                      <div *ngIf="f.ANALYZE_EXECUTION_DAYS.errors.min || f.ANALYZE_EXECUTION_DAYS.errors.max">
                        ANALYZE EXECUTION DAYS should be greater than 0 and less than equal to 30 </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group disabled">
                    <label class="control-label">ANALYZE EXECUTION STATUS</label>
                    <select formControlName="ANALYZE_EXECUTION_STATUS" class="form-control">
                      <option value="TODO">TODO</option>
                      <option value="RUNNING">RUNNING</option>
                      <option value="FAILED">FAILED</option>
                      <option value="COMPLETE">COMPLETE</option>
                    </select>
                  </div>
                  <div class="form-group disabled">
                    <label class="control-label">ANALYZE LAST SUCCESS
                      DATE</label>
                    <br />
                    <p-calendar inputStyleClass="form-control" showTime="true" showSeconds="true" hourFormat="24"
                      formControlName="ANALYZE_LAST_SUCCESS_DATE"></p-calendar>
                  </div>
                </div>
              </div>
            </p-accordionTab>
          </p-accordion>
        </div>
        <div class="tile-footer">
          <div class="row">
            <div class="col-md-8 col-md-offset-3">.
              <!-- <button class="btn btn-sm btn-success">Update</button> -->
              <button class="btn btn-sm btn-primary">
                <i class="fa fa-fw fa-lg fa-check-circle"></i>Save</button>&nbsp;&nbsp;&nbsp;
              <a class="btn btn-sm btn-secondary" routerLinkActive="active" routerLink="/loadcontrol">
                <i class="fa fa-fw fa-lg fa-times-circle"></i>Cancel</a>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>