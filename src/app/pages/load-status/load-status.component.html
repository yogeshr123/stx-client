<p-toast></p-toast>

<div class="app-title">
    <div>
        <h1>
            <i class="fa fa-table"></i> Load Status
        </h1>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="tile">
            <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
                <div class="row">
                    <div class="col-2">
                        <input type="text" formControlName="SCHEMA_NAME" class="form-control" placeholder="Schema Name">
                    </div>
                    <div class="col-2">
                        <input type="text" formControlName="TABLE_NAME" class="form-control" placeholder="Table Name">
                    </div>
                    <div class="col-2">
                        <input type="text" formControlName="STATUS" class="form-control" placeholder="Status">
                    </div>
                    <div class="col-2">
                        <input type="text" formControlName="AVG_TIME" class="form-control" placeholder="Min Avg. Time">
                    </div>
                    <div class="col-2">
                        <input type="submit" class="btn btn-primary" value="Submit">
                        <input (click)="discard()" type="reset" class="btn btn-dark ml-2" value="Reset">
                    </div>
                </div>
            </form>
            <div class="col-12">
                <hr>
            </div>
            <div class="mt-2 col-12" *ngIf="loader.tasks">
                <p-progressBar mode="indeterminate"></p-progressBar>
            </div>
            <div class="mt-2 col-12" *ngIf="!loader.tasks">
                <div class="clearfix">
                    <div class="div" class="float-left mt-2">
                        <label>Show</label>
                        <select #limit name="limit" class="ml-1" (change)="changeLimit(limit.value)">
                            <option value="10">10</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="all" selected>All</option>
                        </select>
                        <label class="ml-1">Records</label>
                    </div>
                    <img *ngIf="loader.saveTasks" class="float-right" width="40" src="assets/images/green_loader.gif" alt="Loader Image">
                    <button class="float-right btn btn-success ml-2" (click)="save()">Save Changes</button>
                    <button class="float-right btn btn-danger" (click)="
                    discard()">Discard Changes</button>
                </div>
                <div class="mt-3" *ngIf="taskData?.length > 1; else elseTemplate">
                    <daypilot-gantt [config]="config"></daypilot-gantt>
                </div>
                <ng-template #elseTemplate>
                    <div class="text-center">
                        Data Not Available!
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</div>